<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="loginstyle.css">
    <title>Log In</title>
</head>
<body>
<div class='bold-line'></div>
<div class='container'>
  <div class='window'>
    <div class='overlay'></div>
    <div class='content'>
      <div class='welcome'>Hello There!</div>
      <div class='subtitle'><br><br>This is "Life Planner: Daily Routine to Habit"<br><br></div>
      <div class='input-fields'>
        <form id="loginForm">
          <input type='text' placeholder='Username' class='input-line full-width' id="username" required>
          <input type='email' placeholder='Email' class='input-line full-width' id="email" required>
          <input type='password' placeholder='Password' class='input-line full-width' id="password" required>
          <input type='password' placeholder='Confirm Password' class='input-line full-width' id="confirmPassword" required>
          <button type="button" class='ghost-round full-width' id="loginButton"> Log In</button>
        </form>
      </div>
      <div class='spacing'><br>or please <span class='highlight'><a href="register.html">Register</a></span> here!</div>
    </div>
  </div>
</div>
<script>
    // Function to validate the form and handle redirection
    function validateAndRedirect() {
        // Get form elements
        var username = document.getElementById('username').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var confirmPassword = document.getElementById('confirmPassword').value;

        // Simple validation check
        if (username === '' || email === '' || password === '' || confirmPassword === '') {
            alert('Please fill out all fields.');
            return false; // Prevent further execution
        }

        if (password !== confirmPassword) {
            alert('Passwords do not match!');
            return false; // Prevent further execution
        }

        // Redirect to the next page
        window.location.href = 'life-planner-full-page.html'; // Replace with your desired URL
        return true; // Allow further execution
    }

    // Attach event listener to the "Log In" button
    document.getElementById('loginButton').addEventListener('click', function() {
        validateAndRedirect();
    });

    // Attach event listener to the form's submit event to handle Enter key press
    document.getElementById('loginForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default form submission
        validateAndRedirect();
    });

    // Move focus to the next input field on Enter key press
    document.getElementById('loginForm').addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
            event.preventDefault(); // Prevent the default form submission behavior
            
            // Get all input elements in the form
            var inputs = Array.from(document.querySelectorAll('#loginForm input'));
            var index = inputs.indexOf(document.activeElement);

            // Focus the next input or the button if it's the last input
            if (index > -1 && index < inputs.length - 1) {
                inputs[index + 1].focus();
            } else if (index === inputs.length - 1) {
                document.getElementById('loginButton').focus(); // Focus the submit button if it's the last input
            }
        }
    });
</script>
</body>
</html>
